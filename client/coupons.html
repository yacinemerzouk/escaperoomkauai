<template name="coupons">

    <!-- HERO BANNER -->
    <div class="hero hero-home-bg room-box-bg-mad-scientist">
        <div class="overlay">
            <div class="content">
                <h1>Coupons</h1>
                <p>Admins only...</p>
            </div>
        </div>
    </div>

    <!-- ONLY FOR ADMINS -->
    {{#if currentUser}}

        <!-- CONTENT -->
        <div class="container">

            <div class="row">

                <!-- FORM TO CREATE NEW COUPON -->
                <div class="col-xs-12">
                    <form hook="create-coupon" style="padding: 12px 15px">
                        <h2>New coupon</h2>

                        <!-- COUPON CODE -->
                        <div class="form-group">
                            <label for="coupon">Coupon Code</label>
                            <input type="text" hook="coupon" class="form-control" id="coupon" name="coupon" value="{{coupon}}">
                        </div>

                        <!-- DISCOUNT PERCENTAGE -->
                        <div class="form-group">
                            <label for="discount">Discount %</label>
                            <input type="text" hook="discount" class="form-control" id="discount" name="discount" value="{{discount}}">
                        </div>

                        <!-- LIMIT USES -->
                        <div class="form-group">
                            <label for="coupon">Maximum Uses (leave blank for unlimited)</label>
                            <input type="text" hook="maxUses" class="form-control" id="maxUses" name="maxUses" value="{{maxUses}}">
                        </div>

                        <!-- EXPIRATION -->
                        <div class="form-group">
                            <label for="expiration">Expiration (YYYY-MM-DD)  (leave blank for unlimited)</label>
                            <input type="text" hook="expiration" class="form-control" id="expiration" name="expiration" value="{{maxUses}}">
                        </div>
                        <input type="submit" class="button" value="Create Coupon">
                    </form>
                </div>

                <!-- LIST OF EXISTING COUPONS; TODO: FILTER AND PAGINATE -->
                <div class="col-xs-12">
                    <h2>Coupons List</h2>

                    {{#each coupons}}
                        Coupon: <span class="currency">{{coupon}}</span><br>
                        Discount: <span class="currency">{{discount}}%</span><br>
                        Expiration: <span class="currency">{{expiration}}</span><br>
                        Max Uses: <span class="currency">{{maxUses}}</span><br>
                        Uses: <span class="currency">{{uses}}</span>
                        <hr>
                    {{/each}}

                </div>

            </div>

        </div>

    {{else}}

        <div class="container marketing">
            Admins only
            <br>
            {{> loginButtons}}
        </div>
    {{/if}}

</template>